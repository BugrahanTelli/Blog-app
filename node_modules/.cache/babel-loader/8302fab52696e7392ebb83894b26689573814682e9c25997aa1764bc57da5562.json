{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MBT\\\\Desktop\\\\Blog_app\\\\blog-app\\\\src\\\\pages\\\\EditProfilePage.js\",\n  _s = $RefreshSig$();\n// client/src/pages/EditProfilePage.js\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfilePage() {\n  _s();\n  const {\n    user,\n    login\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({\n    name: \"\",\n    surname: \"\",\n    email: \"\"\n  });\n  useEffect(() => {\n    // AuthContext'teki kullanıcı bilgilerini kullanarak formu önceden dolduruyoruz.\n    if (user) {\n      setProfile({\n        name: user.name || \"\",\n        surname: user.surname || \"\",\n        email: user.email || \"\"\n      });\n    }\n  }, [user]);\n  const handleChange = e => {\n    setProfile({\n      ...profile,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Kullanıcı profil güncelleme isteği\n      const response = await fetch(`http://localhost:5000/api/users/${user.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(profile)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Güncellenen veriyi AuthContext üzerinden de güncelle (isteğe bağlı)\n        login(data.user);\n        navigate(\"/profile\");\n      } else {\n        alert(data.error || \"Profil güncellenirken hata oluştu.\");\n      }\n    } catch (error) {\n      console.error(\"Profil güncelleme isteğinde hata:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container d-flex justify-content-center align-items-center\",\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-4\",\n      style: {\n        width: \"600px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center mb-4\",\n        children: \"Profili D\\xFCzenle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"form-label\",\n            children: \"KulAd:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"username\",\n            className: \"form-control\",\n            value: profile.username,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"surname\",\n            className: \"form-label\",\n            children: \"Soyad:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"surname\",\n            name: \"surname\",\n            className: \"form-control\",\n            value: profile.surname,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            className: \"form-control\",\n            value: profile.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"G\\xFCncelle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: () => navigate(\"/profile\"),\n            children: \"\\u0130ptal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(EditProfilePage, \"vff9aAkIVTSf7QPLKIkSKUg9FXM=\", false, function () {\n  return [useNavigate];\n});\n_c = EditProfilePage;\nexport default EditProfilePage;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","AuthContext","jsxDEV","_jsxDEV","EditProfilePage","_s","user","login","navigate","profile","setProfile","name","surname","email","handleChange","e","target","value","handleSubmit","preventDefault","response","fetch","id","method","headers","body","JSON","stringify","data","json","ok","alert","error","console","className","style","minHeight","children","width","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","username","onChange","required","onClick","_c","$RefreshReg$"],"sources":["C:/Users/MBT/Desktop/Blog_app/blog-app/src/pages/EditProfilePage.js"],"sourcesContent":["// client/src/pages/EditProfilePage.js\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nfunction EditProfilePage() {\r\n    const { user, login } = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n    const [profile, setProfile] = useState({\r\n        name: \"\",\r\n        surname: \"\",\r\n        email: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        // AuthContext'teki kullanıcı bilgilerini kullanarak formu önceden dolduruyoruz.\r\n        if (user) {\r\n            setProfile({\r\n                name: user.name || \"\",\r\n                surname: user.surname || \"\",\r\n                email: user.email || \"\"\r\n            });\r\n        }\r\n    }, [user]);\r\n\r\n    const handleChange = (e) => {\r\n        setProfile({\r\n            ...profile,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            // Kullanıcı profil güncelleme isteği\r\n            const response = await fetch(`http://localhost:5000/api/users/${user.id}`, {\r\n                method: \"PUT\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(profile)\r\n            });\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                // Güncellenen veriyi AuthContext üzerinden de güncelle (isteğe bağlı)\r\n                login(data.user);\r\n                navigate(\"/profile\");\r\n            } else {\r\n                alert(data.error || \"Profil güncellenirken hata oluştu.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Profil güncelleme isteğinde hata:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container d-flex justify-content-center align-items-center\" style={{ minHeight: \"100vh\" }}>\r\n            <div className=\"card p-4\" style={{ width: \"600px\" }}>\r\n                <h1 className=\"text-center mb-4\">Profili Düzenle</h1>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"name\" className=\"form-label\">KulAd:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            name=\"username\"\r\n                            className=\"form-control\"\r\n                            value={profile.username}\r\n                            onChange={handleChange}\r\n                            required />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"surname\" className=\"form-label\">Soyad:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"surname\"\r\n                            name=\"surname\"\r\n                            className=\"form-control\"\r\n                            value={profile.surname}\r\n                            onChange={handleChange}\r\n                            required />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"email\" className=\"form-label\">Email:</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            className=\"form-control\"\r\n                            value={profile.email}\r\n                            onChange={handleChange}\r\n                            required />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Güncelle</button>\r\n                        <button type=\"button\" className=\"btn btn-secondary\" onClick={() => navigate(\"/profile\")}>İptal</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}